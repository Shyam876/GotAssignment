{"ast":null,"code":"var _jsxFileName = \"/Users/shyamsawant/Desktop/gotfrontend/src/components/FamilyTreeComponent/index.js\";\nimport { Box } from '@chakra-ui/react';\nimport React from 'react';\nimport ArrowDomComponent from '../ArrowDomComponent';\nimport { ArcherContainer, ArcherElement } from \"react-archer\";\nimport Queue from \"../../libraries/Queue\";\nimport CardComponent from '../CardComponent';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst rootStyle = {\n  margin: \"20px 0px\",\n  display: \"flex\",\n  justifyContent: \"center\"\n};\nconst rowStyle = {\n  margin: \"100px 0\",\n  display: \"flex\",\n  justifyContent: \"space-between\"\n};\nconst boxStyle = {\n  padding: \"10px\",\n  border: \"1px solid black\",\n  display: \"flex\",\n  justifyContent: \"space-between\"\n};\nconst constructTargetObjects = data => {\n  var targetObjects = [];\n  data.children.map((element, i) => targetObjects.push({\n    targetId: element.characterName,\n    targetAnchor: \"top\",\n    sourceAnchor: \"bottom\",\n    style: {\n      strokeDasharray: \"5,5\"\n    }\n  }));\n  data.spouse.map((element, i) => targetObjects.push({\n    targetId: element.characterName,\n    targetAnchor: \"left\",\n    sourceAnchor: \"right\",\n    style: {\n      strokeColor: \"blue\",\n      strokeWidth: 1\n    }\n  }));\n  return targetObjects;\n};\nconst constructRelations = data => {\n  var relations = [];\n  console.log(\"defaining relations \", data);\n  if (data.parents.length > 0) relations.push({\n    key: \"Parents\",\n    value: data.parents.toString()\n  });\n  if (data.siblings.length > 0) relations.push({\n    key: \"Siblings\",\n    value: data.parents.toString()\n  });\n  if (data.killed.length > 0) relations.push({\n    key: \"Killed\",\n    value: data.parents.toString()\n  });\n  if (data.killedBy.length > 0) relations.push({\n    key: \"Killed by\",\n    value: data.parents.toString()\n  });\n  if (data.guardianOf.length > 0) relations.push({\n    key: \"Guardian of\",\n    value: data.parents.toString()\n  });\n  if (data.guardedBy.length > 0) relations.push({\n    key: \"Guarded by\",\n    value: data.parents.toString()\n  });\n  return relations;\n};\nconst constructTree = props => {\n  let headNode = props.data;\n  let q = new Queue();\n  var treeTraversed = [];\n  q.enqueue(headNode);\n  headNode.spouse.map((node, i) => headNode.enqueue(node));\n  q.enqueue(null);\n  var level = 1;\n  while (!q.isEmpty() && q.peek() != null) {\n    let currentLevelNodes = [];\n    let currentNode = q.dequeue();\n    while (currentNode != null) {\n      let relations = constructRelations(currentNode);\n      currentLevelNodes.push({\n        node: currentNode,\n        mapping: constructTargetObjects(currentNode),\n        relations: relations\n      });\n      currentNode.children.map((node, i) => {\n        q.enqueue(node);\n        node.spouse.map((spouseNode, i) => q.enqueue(spouseNode));\n      });\n      currentNode = q.dequeue();\n    }\n    q.enqueue(null);\n    level = level + 1;\n    treeTraversed.push(currentLevelNodes);\n  }\n  return /*#__PURE__*/_jsxDEV(ArcherContainer, {\n    strokeColor: \"red\",\n    children: treeTraversed.map((levelTraversed, i) => i == 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: rootStyle,\n      children: levelTraversed.map((nodeObject, i) => /*#__PURE__*/_jsxDEV(ArcherElement, {\n        id: nodeObject.node.characterName,\n        relations: nodeObject.mapping,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: boxStyle,\n          children: nodeObject.node.characterName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 29\n        }, this)\n      }, nodeObject.node.characterName, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: rowStyle,\n      children: levelTraversed.map((nodeObject, i) => /*#__PURE__*/_jsxDEV(ArcherElement, {\n        id: nodeObject.node.characterName,\n        relations: nodeObject.mapping,\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          children: [\" \", /*#__PURE__*/_jsxDEV(CardComponent, {\n            element: nodeObject,\n            fetchFamilyTreeData: props.fetchFamilyTreeData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 35\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 29\n        }, this)\n      }, nodeObject.node.characterName, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n};\nfunction FamilyTreeComponent(props) {\n  return /*#__PURE__*/_jsxDEV(Box, {\n    style: {\n      width: \"4000px\"\n    },\n    children: constructTree(props)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, this);\n}\n_c = FamilyTreeComponent;\nexport default FamilyTreeComponent;\nvar _c;\n$RefreshReg$(_c, \"FamilyTreeComponent\");","map":{"version":3,"names":["Box","React","ArrowDomComponent","ArcherContainer","ArcherElement","Queue","CardComponent","jsxDEV","_jsxDEV","rootStyle","margin","display","justifyContent","rowStyle","boxStyle","padding","border","constructTargetObjects","data","targetObjects","children","map","element","i","push","targetId","characterName","targetAnchor","sourceAnchor","style","strokeDasharray","spouse","strokeColor","strokeWidth","constructRelations","relations","console","log","parents","length","key","value","toString","siblings","killed","killedBy","guardianOf","guardedBy","constructTree","props","headNode","q","treeTraversed","enqueue","node","level","isEmpty","peek","currentLevelNodes","currentNode","dequeue","mapping","spouseNode","levelTraversed","nodeObject","id","fileName","_jsxFileName","lineNumber","columnNumber","fetchFamilyTreeData","FamilyTreeComponent","width","_c","$RefreshReg$"],"sources":["/Users/shyamsawant/Desktop/gotfrontend/src/components/FamilyTreeComponent/index.js"],"sourcesContent":["import { Box } from '@chakra-ui/react'\nimport React from 'react'\nimport ArrowDomComponent from '../ArrowDomComponent'\nimport { ArcherContainer, ArcherElement } from \"react-archer\";\nimport Queue from \"../../libraries/Queue\"\nimport CardComponent from '../CardComponent'\n\n\nconst rootStyle = { margin: \"20px 0px\", display: \"flex\", justifyContent: \"center\" };\nconst rowStyle = {\n    margin: \"100px 0\",\n    display: \"flex\",\n    justifyContent: \"space-between\"\n};\n\nconst boxStyle = { padding: \"10px\", border: \"1px solid black\", display: \"flex\", justifyContent: \"space-between\" };\n\nconst constructTargetObjects = (data) => {\n    var targetObjects = [];\n    data.children.map((element, i) => targetObjects.push({ targetId : element.characterName, targetAnchor: \"top\", sourceAnchor: \"bottom\", style: { strokeDasharray: \"5,5\" }}))\n    data.spouse.map((element, i) => targetObjects.push({ targetId : element.characterName, targetAnchor: \"left\", sourceAnchor: \"right\", style: { strokeColor: \"blue\", strokeWidth: 1 }}))\n    \n    return targetObjects;\n}\n\nconst constructRelations = (data) => {\n    var relations = [];\n    console.log(\"defaining relations \", data);\n    if(data.parents.length>0) relations.push({key: \"Parents\", value: data.parents.toString()})\n    if(data.siblings.length>0) relations.push({key: \"Siblings\", value: data.parents.toString()})\n    if(data.killed.length>0) relations.push({key: \"Killed\", value: data.parents.toString()})\n    if(data.killedBy.length>0) relations.push({key: \"Killed by\", value: data.parents.toString()})\n    if(data.guardianOf.length>0) relations.push({key: \"Guardian of\", value: data.parents.toString()})\n    if(data.guardedBy.length>0) relations.push({key: \"Guarded by\", value: data.parents.toString()})\n\n    return relations;\n}\n\n\nconst constructTree = (props) => {\n\n    let headNode = props.data\n    let q = new Queue();\n\n    var treeTraversed = []\n    q.enqueue(headNode)\n    headNode.spouse.map((node, i) => headNode.enqueue(node));\n    q.enqueue(null);\n    var level = 1;\n    while(!q.isEmpty() && q.peek()!=null){\n\n        let currentLevelNodes = []\n        let currentNode = q.dequeue();\n\n        while(currentNode!=null){\n\n            let relations = constructRelations(currentNode)\n            currentLevelNodes.push({ node: currentNode, mapping: constructTargetObjects(currentNode), relations: relations})\n\n            currentNode.children.map((node, i) => {\n                q.enqueue(node)\n                node.spouse.map((spouseNode, i) => q.enqueue(spouseNode))\n            })\n\n            currentNode = q.dequeue();\n\n        }\n\n        q.enqueue(null);\n        level = level+1;\n        treeTraversed.push(currentLevelNodes)\n        \n\n    }\n\n    return (\n        <ArcherContainer strokeColor=\"red\">\n            \n            {\n                \n\n\n                treeTraversed.map((levelTraversed, i) => (\n\n                    i==0 ? \n\n                    <div style={rootStyle}>\n                    {levelTraversed.map((nodeObject, i)=> (\n                        <ArcherElement\n                        id={nodeObject.node.characterName}\n                        key={nodeObject.node.characterName}\n                        relations={nodeObject.mapping}\n                        \n                        >\n                            <div style={boxStyle}>{nodeObject.node.characterName}</div>\n                        </ArcherElement>\n                    ))}\n                    </div>\n\n                    : \n\n                    <div style={rowStyle}>\n                    {levelTraversed.map((nodeObject, i)=> (\n                        <ArcherElement\n                        id={nodeObject.node.characterName}\n                        key={nodeObject.node.characterName}\n                        relations={nodeObject.mapping}\n                        \n                        >\n                            {/*<div style={boxStyle}>{nodeObject.node.characterName} <img src={filledHeart} alt=\"hollowHeart\" height={20} width={20} style={{marginLeft : 10}}/></div>*/}\n                            <Box> <CardComponent element={nodeObject} fetchFamilyTreeData={props.fetchFamilyTreeData} /> </Box>\n                        </ArcherElement>\n                    ))}\n                    </div>\n                ))\n            }\n\n        </ArcherContainer>\n    )\n\n}\n\n\nfunction FamilyTreeComponent(props) {\n\n  return (\n    <Box style={{width: \"4000px\"}}>\n                {constructTree(props)}\n    </Box>\n  )\n}\n\nexport default FamilyTreeComponent"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}